---
import Base from '../layouts/Base.astro';

const bandcampAlbums = [
  {
    title: 'Transfigured Resonance',
    url: 'https://telepathicbeing.bandcamp.com/album/transfigured-resonance',
    embed: 'https://bandcamp.com/EmbeddedPlayer/album=1870514498/size=large/bgcol=333333/linkcol=0f91ff/artwork=small/transparent=true/',
    height: 340,
  },
  {
    title: 'Echoes and Reflections',
    url: 'https://telepathicbeing.bandcamp.com/album/echoes-and-reflections',
    embed: 'https://bandcamp.com/EmbeddedPlayer/album=3516792777/size=large/bgcol=333333/linkcol=0f91ff/artwork=small/transparent=true/',
    height: 439,
  },
  {
    title: 'SNOW',
    url: 'https://telepathicbeing.bandcamp.com/album/snow',
    embed: 'https://bandcamp.com/EmbeddedPlayer/album=694006483/size=large/bgcol=333333/linkcol=0f91ff/artwork=small/transparent=true/',
    height: 241,
  },
];

const bandcampTracks = [
  {
    title: 'String Quartet No 1',
    url: 'https://telepathicbeing.bandcamp.com/track/string-quartet-no-1',
    embed: 'https://bandcamp.com/EmbeddedPlayer/track=3587032830/size=large/bgcol=333333/linkcol=0f91ff/tracklist=false/artwork=small/transparent=true/',
    height: 120,
  },
  {
    title: 'Alternate African Reality',
    url: 'https://syrphe.bandcamp.com/album/alternate-african-reality-electronic-electroacoustic-and-experimental-music-from-africa-and-the-diaspora',
    embed: 'https://bandcamp.com/EmbeddedPlayer/album=2062834667/size=large/bgcol=333333/linkcol=0f91ff/tracklist=false/artwork=small/transparent=true/track=409857500/',
    height: 120,
  },
  {
    title: "Demonology In Dante's Inferno",
    url: 'https://eighthtowerrecords.bandcamp.com/album/demonology-in-dantes-inferno',
    embed: 'https://bandcamp.com/EmbeddedPlayer/album=55414864/size=small/bgcol=333333/linkcol=0f91ff/track=3137335557/transparent=true/',
    height: 42,
  },
];

const soundcloud = {
  title: 'Microtonal Collection (SoundCloud)',
  url: 'https://soundcloud.com/otoplasma/sets/microtonal-collection',
  embed: 'https://w.soundcloud.com/player/?url=https%3A//soundcloud.com/otoplasma/sets/microtonal-collection&color=%23442a25&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true',
};
---

<Base title="Music">
  <article class="post music">
    <h1>Music</h1>

    <p class="intro">
  You’re invited to listen here. If you feel moved to support the work, Bandcamp purchases — including
  pay-what-you-want releases — help sustain the ongoing development of my artistic and research practice.
</p>


    <section class="block">
      <h2 class="section-title">Support via Bandcamp</h2>

      <div class="stack">
        {bandcampAlbums.map((item) => (
          <div class="item">
            <h3 class="item-title">{item.title}</h3>
            <div class="embed embed--dark">
              <iframe
                title={`Bandcamp album: ${item.title}`}
                style={`border:0;width:100%;height:${item.height}px;`}
                src={item.embed}
                seamless
              ></iframe>
            </div>
            <p class="small">
              <a href={item.url} target="_blank" rel="noopener noreferrer">Open on Bandcamp</a>
            </p>
          </div>
        ))}
      </div>

      <h3 class="section-sub">Selected tracks</h3>

      <div class="stack tracks">
        {bandcampTracks.map((item) => (
          <div class="item track">
            <h4 class="item-title">{item.title}</h4>
            <div class="embed embed--dark">
              <iframe
                title={`Bandcamp track: ${item.title}`}
                style={`border:0;width:100%;height:${item.height}px;`}
                src={item.embed}
                seamless
              ></iframe>
            </div>
            <p class="small">
              <a href={item.url} target="_blank" rel="noopener noreferrer">Open on Bandcamp</a>
            </p>
          </div>
        ))}
      </div>
    </section>

    <section class="block">
      <h2 class="section-title">Listen via SoundCloud</h2>
      <div class="embed">
        <iframe
          title="SoundCloud playlist: Microtonal Collection"
          width="100%"
          height="380"
          scrolling="no"
          frameborder="no"
          allow="autoplay"
          src={soundcloud.embed}
        ></iframe>
      </div>
      <p class="small">
        <a href={soundcloud.url} target="_blank" rel="noopener noreferrer">Open playlist on SoundCloud</a>
      </p>
    </section>
  </article>
</Base>

<style>
  .music { text-align: left; }
  .intro { color: var(--muted); margin: 6px 0 18px; line-height: 1.65; }

  .block { margin-top: 22px; padding-top: 18px; border-top: 1px dashed var(--border); }
  .section-title { margin: 0 0 12px; font-weight: 400; }
  .section-sub { margin: 22px 0 10px; font-weight: 400; color: var(--muted); }

  .embed {
    border: 1px solid var(--border);
    border-radius: 10px;
    overflow: hidden;
    background: var(--card);
    box-shadow: 0 1px 6px rgba(0,0,0,.04);
  }

  .embed--dark {
    background: #333;
    border-color: rgba(255,255,255,.08);
  }

  .stack { display: flex; flex-direction: column; gap: 22px; margin-top: 12px; }
  .item-title { margin: 0 0 10px; font-weight: 600; font-style: italic; letter-spacing: .1px; }

  .tracks .item { padding-top: 10px; border-top: 1px dashed var(--border); }
  .tracks .item:first-child { border-top: none; padding-top: 0; }

  .small { margin: 10px 0 0; color: var(--muted); font-size: 14px; line-height: 1.5; }
  .small a { color: var(--accent); text-decoration: none; }
  .small a:hover { text-decoration: underline; }
</style>
